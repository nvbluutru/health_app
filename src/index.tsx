import ReactDOM from "react-dom/client";
import { BrowserRouter, Navigate, Route, Routes } from "react-router-dom";
import "bootstrap/dist/css/bootstrap.min.css";
import "./index.css";
import Declaration from "./pages/form-page/index";
import TableBody from "./pages/table-page/TableBody";
import { FormProvider } from "./context/FormContext";
import config from "./services/config";

const root = ReactDOM.createRoot(
  document.getElementById("root") as HTMLElement
);
//Fake data
if (!localStorage.getItem(config.NAME_LOCALSTORAGE)) {
  localStorage.setItem(
    config.NAME_LOCALSTORAGE,
    `[{"formId":"_c6r6E","fullName":"Nguyen Van A","object":"International Student","dateOfBirth":"2022-05-05","gender":"Female","nationality":"American Samoa","passportId":"235325235","province":"Tỉnh Hải Dương","district":"Huyện Kim Thành","address":"325235235","email":"23523523sb@gmail.com","mobile":"091259125125","travels":[{"departureDate":"2022-05-27","immigration":"2022-05-22","departure":"American Samoa","destination":"AndorrA"}],"symptoms":[],"vaccines":""},{"formId":"_OAfRU","fullName":"Nguyen Van B","object":"Vietnamese","dateOfBirth":"2004-12-27","gender":"Female","nationality":"Anguilla","passportId":"019284124","province":"Tỉnh Ninh Thuận","district":"Huyện Thuận Bắc","address":"việt nam","email":"nguyenvanb.2004@gmail.com","mobile":"02353623623","travels":[],"symptoms":["Difficulty of breathing"],"vaccines":"None"},{"formId":"_kam2j","fullName":"Nguyen Van C","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_96Huak","fullName":"Nguyen Van D","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_8shaA","fullName":"Nguyen Van E","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_92nvk","fullName":"Nguyen Van F","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_1KSma","fullName":"Nguyen Van G","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_jnia8","fullName":"Nguyen Van H","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_iki3u","fullName":"Nguyen Van I","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_jdvu3","fullName":"Nguyen Van K","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_98sdk","fullName":"Nguyen Van L","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_va82v","fullName":"Nguyen Van M","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_bskb3","fullName":"Nguyen Van N","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_akoz9","fullName":"Nguyen Van O","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_vk019","fullName":"Nguyen Van P","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_ska12","fullName":"Nguyen Van R","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"},{"formId":"_921dv","fullName":"Nguyen Van S","object":"Vietnamese","dateOfBirth":"2022-05-28","gender":"Male","nationality":"Algeria","passportId":"124219481","province":"Thành Phố Đà Nẵng","district":"Quận Liên Chiểu","address":"Phan thiết Bình Thuận","email":"phantPhuong@gmail.com","mobile":"0918274124","travels":[],"symptoms":["Fiber","Sore throat","Difficulty of breathing"],"vaccines":"None"}]`
  );
}

root.render(
  <BrowserRouter>
    <FormProvider>
      <Routes>
        <Route path="/" element={<Navigate to="table" />} />
        <Route path="/table" element={<TableBody />} />
        <Route path="/declaration" element={<Declaration />} />
        <Route path="/declaration/:formId" element={<Declaration />} />
      </Routes>
    </FormProvider>
  </BrowserRouter>
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
