{"ast":null,"code":"var _jsxFileName = \"/Users/nvbofficial/Documents/Programmer/FPT/FSOFT/Document/ReactJS/FEFW Assignment/AssignReactJS/4.health-declaration-app-assignment-trainee/source_code/BaoNV12_HealthApp/src/pages/table-page/TableList.tsx\",\n    _s = $RefreshSig$();\n\nimport { Table } from \"react-bootstrap\";\nimport { getListDeclaration, removeDeclaration } from \"../../services/model\";\nimport config from \"../../services/config\";\nimport { Link } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { FormContext } from \"../../context/FormContext\";\nimport { useEffect, useContext } from \"react\";\nimport { getTotalPage } from \"../../services\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TableList() {\n  _s();\n\n  const search = useContext(FormContext);\n  useEffect(() => {\n    renderSearch();\n  }, [search === null || search === void 0 ? void 0 : search.search]);\n  useEffect(() => {\n    const {\n      totalRow,\n      currentPage\n    } = search === null || search === void 0 ? void 0 : search.pagination;\n    const totalPage = getTotalPage(totalRow, search === null || search === void 0 ? void 0 : search.listDeclaration.length);\n\n    if (currentPage > totalPage) {\n      search === null || search === void 0 ? void 0 : search.handleChangeCurrentPage(totalPage);\n    }\n  }, [search === null || search === void 0 ? void 0 : search.listDeclaration, search === null || search === void 0 ? void 0 : search.search, search === null || search === void 0 ? void 0 : search.pagination.totalRow]);\n\n  const renderSearch = () => {\n    const data = getListDeclaration(config.NAME_LOCALSTORAGE);\n    const newData = data.filter(item => {\n      const arrayValue = Object.values(item);\n      const stringValue = arrayValue.join(\" \").toLowerCase();\n      return stringValue.includes(search === null || search === void 0 ? void 0 : search.search.toLowerCase().trim()) && item;\n    });\n    search === null || search === void 0 ? void 0 : search.handChangeListDeclaration(newData);\n  };\n\n  const lastSlice = (search === null || search === void 0 ? void 0 : search.pagination.currentPage) * (search === null || search === void 0 ? void 0 : search.pagination.totalRow);\n  const firstSlice = lastSlice - (search === null || search === void 0 ? void 0 : search.pagination.totalRow);\n  const tempListDeclaration = (search === null || search === void 0 ? void 0 : search.listDeclaration) && [...(search === null || search === void 0 ? void 0 : search.listDeclaration)];\n  const listDeclarationSlice = tempListDeclaration === null || tempListDeclaration === void 0 ? void 0 : tempListDeclaration.reverse().slice(firstSlice, lastSlice);\n  return /*#__PURE__*/_jsxDEV(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    className: \"mt-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"text-center\",\n          children: \"#\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Form ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Full Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Object\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Date Of Birth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Gender\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Contact Province\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: (search === null || search === void 0 ? void 0 : search.listDeclaration.length) > 0 ? listDeclarationSlice === null || listDeclarationSlice === void 0 ? void 0 : listDeclarationSlice.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: index + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/declaration/${item.formId}`,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa-solid fa-pen-to-square me-2 text-success\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-trash-can me-3 text-danger\",\n            onClick: () => {\n              Swal.fire({\n                title: \"Are you sure?\",\n                text: \"You won't be able to revert this!\",\n                icon: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#3085d6\",\n                cancelButtonColor: \"#d33\",\n                confirmButtonText: \"Yes, delete it!\"\n              }).then(result => {\n                if (result.isConfirmed) {\n                  removeDeclaration(item.formId);\n                  Swal.fire({\n                    title: \"Success!\",\n                    text: \"Delete declaration successfull!\",\n                    icon: \"success\",\n                    confirmButtonText: \"OK\"\n                  });\n                  search === null || search === void 0 ? void 0 : search.handChangeListDeclaration(getListDeclaration(config.NAME_LOCALSTORAGE));\n                }\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), item.formId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.fullName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.object\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.dateOfBirth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.gender\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.province\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          colSpan: 7,\n          className: \"text-center\",\n          children: \"No Declarations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TableList, \"q75UpXMH52uwG4YI3SYUPI20NQ8=\");\n\n_c = TableList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableList\");","map":{"version":3,"sources":["/Users/nvbofficial/Documents/Programmer/FPT/FSOFT/Document/ReactJS/FEFW Assignment/AssignReactJS/4.health-declaration-app-assignment-trainee/source_code/BaoNV12_HealthApp/src/pages/table-page/TableList.tsx"],"names":["Table","getListDeclaration","removeDeclaration","config","Link","Swal","FormContext","useEffect","useContext","getTotalPage","TableList","search","renderSearch","totalRow","currentPage","pagination","totalPage","listDeclaration","length","handleChangeCurrentPage","data","NAME_LOCALSTORAGE","newData","filter","item","arrayValue","Object","values","stringValue","join","toLowerCase","includes","trim","handChangeListDeclaration","lastSlice","firstSlice","tempListDeclaration","listDeclarationSlice","reverse","slice","map","index","formId","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","fullName","object","dateOfBirth","gender","province"],"mappings":";;;AAAA,SAASA,KAAT,QAAsB,iBAAtB;AACA,SAASC,kBAAT,EAA6BC,iBAA7B,QAAsD,sBAAtD;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AAEA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,SAASC,YAAT,QAA6B,gBAA7B;;AACA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAClC,QAAMC,MAAM,GAAGH,UAAU,CAACF,WAAD,CAAzB;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,YAAY;AACb,GAFQ,EAEN,CAACD,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEA,MAAT,CAFM,CAAT;AAGAJ,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AAAEM,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAA4BH,MAA5B,aAA4BA,MAA5B,uBAA4BA,MAAM,CAAEI,UAA1C;AACA,UAAMC,SAAS,GAAGP,YAAY,CAC5BI,QAD4B,EAE5BF,MAF4B,aAE5BA,MAF4B,uBAE5BA,MAAM,CAAEM,eAAR,CAAwBC,MAFI,CAA9B;;AAIA,QAAKJ,WAAD,GAA0BE,SAA9B,EAAyC;AACvCL,MAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEQ,uBAAR,CAAgCH,SAAhC;AACD;AACF,GATQ,EASN,CAACL,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEM,eAAT,EAA0BN,MAA1B,aAA0BA,MAA1B,uBAA0BA,MAAM,CAAEA,MAAlC,EAA0CA,MAA1C,aAA0CA,MAA1C,uBAA0CA,MAAM,CAAEI,UAAR,CAAmBF,QAA7D,CATM,CAAT;;AAUA,QAAMD,YAAY,GAAG,MAAM;AACzB,UAAMQ,IAAI,GAAGnB,kBAAkB,CAACE,MAAM,CAACkB,iBAAR,CAA/B;AACA,UAAMC,OAAyB,GAAGF,IAAI,CAACG,MAAL,CAAaC,IAAD,IAAU;AACtD,YAAMC,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAcH,IAAd,CAAnB;AACA,YAAMI,WAAW,GAAGH,UAAU,CAACI,IAAX,CAAgB,GAAhB,EAAqBC,WAArB,EAApB;AACA,aACEF,WAAW,CAACG,QAAZ,CAAqBpB,MAArB,aAAqBA,MAArB,uBAAqBA,MAAM,CAAEA,MAAR,CAAemB,WAAf,GAA6BE,IAA7B,EAArB,KACAR,IAFF;AAID,KAPiC,CAAlC;AAQAb,IAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEsB,yBAAR,CAAkCX,OAAlC;AACD,GAXD;;AAYA,QAAMY,SAAS,GACb,CAACvB,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEI,UAAR,CAAmBD,WAApB,KACCH,MADD,aACCA,MADD,uBACCA,MAAM,CAAEI,UAAR,CAAmBF,QADpB,CADF;AAGA,QAAMsB,UAAU,GAAGD,SAAS,IAAIvB,MAAJ,aAAIA,MAAJ,uBAAIA,MAAM,CAAEI,UAAR,CAAmBF,QAAvB,CAA5B;AACA,QAAMuB,mBAAmB,GAAG,CAAAzB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEM,eAAR,KAA2B,CACrD,IAAGN,MAAH,aAAGA,MAAH,uBAAGA,MAAM,CAAEM,eAAX,CADqD,CAAvD;AAGA,QAAMoB,oBAAoB,GAAGD,mBAAH,aAAGA,mBAAH,uBAAGA,mBAAmB,CAC5CE,OADyB,GAE1BC,KAF0B,CAEpBJ,UAFoB,EAERD,SAFQ,CAA7B;AAGA,sBACE,QAAC,KAAD;AAAO,IAAA,OAAO,MAAd;AAAe,IAAA,QAAQ,MAAvB;AAAwB,IAAA,KAAK,MAA7B;AAA8B,IAAA,SAAS,EAAC,MAAxC;AAAA,4BACE;AAAA,6BACE;AAAA,gCACE;AAAI,UAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAYE;AAAA,gBACG,CAACvB,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEM,eAAR,CAAwBC,MAAzB,IAA6C,CAA7C,GACCmB,oBADD,aACCA,oBADD,uBACCA,oBAAoB,CAAEG,GAAtB,CAA0B,CAAChB,IAAD,EAAkBiB,KAAlB,kBACxB;AAAA,gCACE;AAAA,oBAAKA,KAAK,GAAG;AAAb;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,kCACE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAG,gBAAejB,IAAI,CAACkB,MAAO,EAAtC;AAAA,mCACE;AAAG,cAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AACE,YAAA,SAAS,EAAC,wCADZ;AAEE,YAAA,OAAO,EAAE,MAAM;AACbrC,cAAAA,IAAI,CAACsC,IAAL,CAAU;AACRC,gBAAAA,KAAK,EAAE,eADC;AAERC,gBAAAA,IAAI,EAAE,mCAFE;AAGRC,gBAAAA,IAAI,EAAE,SAHE;AAIRC,gBAAAA,gBAAgB,EAAE,IAJV;AAKRC,gBAAAA,kBAAkB,EAAE,SALZ;AAMRC,gBAAAA,iBAAiB,EAAE,MANX;AAORC,gBAAAA,iBAAiB,EAAE;AAPX,eAAV,EAQGC,IARH,CAQSC,MAAD,IAAY;AAClB,oBAAIA,MAAM,CAACC,WAAX,EAAwB;AACtBnD,kBAAAA,iBAAiB,CAACsB,IAAI,CAACkB,MAAN,CAAjB;AACArC,kBAAAA,IAAI,CAACsC,IAAL,CAAU;AACRC,oBAAAA,KAAK,EAAE,UADC;AAERC,oBAAAA,IAAI,EAAE,iCAFE;AAGRC,oBAAAA,IAAI,EAAE,SAHE;AAIRI,oBAAAA,iBAAiB,EAAE;AAJX,mBAAV;AAMAvC,kBAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEsB,yBAAR,CACEhC,kBAAkB,CAACE,MAAM,CAACkB,iBAAR,CADpB;AAGD;AACF,eArBD;AAsBD;AAzBH;AAAA;AAAA;AAAA;AAAA,kBAJF,EA+BGG,IAAI,CAACkB,MA/BR;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAmCE;AAAA,oBAAKlB,IAAI,CAAC8B;AAAV;AAAA;AAAA;AAAA;AAAA,gBAnCF,eAoCE;AAAA,oBAAK9B,IAAI,CAAC+B;AAAV;AAAA;AAAA;AAAA;AAAA,gBApCF,eAqCE;AAAA,oBAAK/B,IAAI,CAACgC;AAAV;AAAA;AAAA;AAAA;AAAA,gBArCF,eAsCE;AAAA,oBAAKhC,IAAI,CAACiC;AAAV;AAAA;AAAA;AAAA;AAAA,gBAtCF,eAuCE;AAAA,oBAAKjC,IAAI,CAACkC;AAAV;AAAA;AAAA;AAAA;AAAA,gBAvCF;AAAA,SAASjB,KAAT;AAAA;AAAA;AAAA;AAAA,cADF,CADD,gBA6CC;AAAA,+BACE;AAAI,UAAA,OAAO,EAAE,CAAb;AAAgB,UAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AA9CJ;AAAA;AAAA;AAAA;AAAA,YAZF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoED;;GAzGuB/B,S;;KAAAA,S","sourcesContent":["import { Table } from \"react-bootstrap\";\nimport { getListDeclaration, removeDeclaration } from \"../../services/model\";\nimport config from \"../../services/config\";\nimport { FormValue } from \"../../services/interface\";\nimport { Link } from \"react-router-dom\";\nimport Swal from \"sweetalert2\";\nimport { FormContext } from \"../../context/FormContext\";\nimport { useEffect, useContext } from \"react\";\nimport { getTotalPage } from \"../../services\";\nexport default function TableList() {\n  const search = useContext(FormContext);\n  useEffect(() => {\n    renderSearch();\n  }, [search?.search]);\n  useEffect(() => {\n    const { totalRow, currentPage } = search?.pagination as any;\n    const totalPage = getTotalPage(\n      totalRow as number,\n      search?.listDeclaration.length as number\n    );\n    if ((currentPage as number) > totalPage) {\n      search?.handleChangeCurrentPage(totalPage);\n    }\n  }, [search?.listDeclaration, search?.search, search?.pagination.totalRow]);\n  const renderSearch = () => {\n    const data = getListDeclaration(config.NAME_LOCALSTORAGE);\n    const newData: Array<FormValue> = data.filter((item) => {\n      const arrayValue = Object.values(item);\n      const stringValue = arrayValue.join(\" \").toLowerCase();\n      return (\n        stringValue.includes(search?.search.toLowerCase().trim() as string) &&\n        item\n      );\n    });\n    search?.handChangeListDeclaration(newData);\n  };\n  const lastSlice =\n    (search?.pagination.currentPage as number) *\n    (search?.pagination.totalRow as number);\n  const firstSlice = lastSlice - (search?.pagination.totalRow as number);\n  const tempListDeclaration = search?.listDeclaration && [\n    ...search?.listDeclaration,\n  ];\n  const listDeclarationSlice = tempListDeclaration\n    ?.reverse()\n    .slice(firstSlice, lastSlice);\n  return (\n    <Table striped bordered hover className=\"mt-3\">\n      <thead>\n        <tr>\n          <th className=\"text-center\">#</th>\n          <th>Form ID</th>\n          <th>Full Name</th>\n          <th>Object</th>\n          <th>Date Of Birth</th>\n          <th>Gender</th>\n          <th>Contact Province</th>\n        </tr>\n      </thead>\n      <tbody>\n        {(search?.listDeclaration.length as number) > 0 ? (\n          listDeclarationSlice?.map((item: FormValue, index: number) => (\n            <tr key={index}>\n              <td>{index + 1}</td>\n              <td>\n                <Link to={`/declaration/${item.formId}`}>\n                  <i className=\"fa-solid fa-pen-to-square me-2 text-success\"></i>\n                </Link>\n                <i\n                  className=\"fa-solid fa-trash-can me-3 text-danger\"\n                  onClick={() => {\n                    Swal.fire({\n                      title: \"Are you sure?\",\n                      text: \"You won't be able to revert this!\",\n                      icon: \"warning\",\n                      showCancelButton: true,\n                      confirmButtonColor: \"#3085d6\",\n                      cancelButtonColor: \"#d33\",\n                      confirmButtonText: \"Yes, delete it!\",\n                    }).then((result) => {\n                      if (result.isConfirmed) {\n                        removeDeclaration(item.formId);\n                        Swal.fire({\n                          title: \"Success!\",\n                          text: \"Delete declaration successfull!\",\n                          icon: \"success\",\n                          confirmButtonText: \"OK\",\n                        });\n                        search?.handChangeListDeclaration(\n                          getListDeclaration(config.NAME_LOCALSTORAGE)\n                        );\n                      }\n                    });\n                  }}\n                ></i>\n                {item.formId}\n              </td>\n              <td>{item.fullName}</td>\n              <td>{item.object}</td>\n              <td>{item.dateOfBirth}</td>\n              <td>{item.gender}</td>\n              <td>{item.province}</td>\n            </tr>\n          ))\n        ) : (\n          <tr>\n            <td colSpan={7} className=\"text-center\">\n              No Declarations\n            </td>\n          </tr>\n        )}\n      </tbody>\n    </Table>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}